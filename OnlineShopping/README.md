# OOP-OnlineShopping 在线购物系统

## 项目概述

这是一个基于C++面向对象程序设计开发的在线购物系统.系统实现了完整的电商购物功能，包括用户管理、商品管理、购物车、订单结算、优惠券系统等核心功能。

## 项目结构

```
OOP-OnlineShopping/
├── OnlineShopping/           # 主要项目目录
│   ├── Codes/               # 源代码目录
│   │   ├── main.cpp         # 主程序入口
│   │   ├── shopSystem.hpp   # 购物系统类头文件
│   │   ├── shopSystem.cpp   # 购物系统类实现
│   │   ├── User.hpp         # 用户基类头文件
│   │   ├── User.cpp         # 用户基类实现
│   │   ├── Customer.hpp     # 顾客类头文件
│   │   ├── Customer.cpp     # 顾客类实现
│   │   ├── Admin.hpp        # 管理员类头文件
│   │   ├── Admin.cpp        # 管理员类实现
│   │   ├── Good.hpp         # 商品类头文件
│   │   ├── Good.cpp         # 商品类实现
│   │   ├── Coupon.hpp       # 优惠券类头文件
│   │   └── Coupon.cpp       # 优惠券类实现
│   └── Report/              # 项目报告目录
│       └── OOP-OnlineShopping-Report_Redacted.pdf
├── Reference/               # 参考资料目录
│   └── Data Center Reservation System/
├── Exercise/                # 练习作业目录
│   └── Chap11操作符重载作业/
└── README.md               # 项目说明文档
```

## 核心功能

### 1. 用户管理系统
- **用户类型**：支持管理员和顾客两种用户类型
- **用户注册**：顾客可以注册新账户
- **用户登录**：支持用户名密码验证
- **密码管理**：用户可以修改密码
- **账户注销**：支持删除用户账户

### 2. 商品管理系统
- **商品展示**：浏览所有商品信息
- **商品搜索**：按名称搜索商品
- **商品推荐**：基于关键词推荐相关商品
- **商品管理**：管理员可以添加、删除、修改商品信息
- **库存管理**：实时库存检查和更新

### 3. 购物车系统
- **购物车操作**：添加、删除、修改商品数量
- **购物车持久化**：数据保存到文件，程序重启后恢复
- **购物车展示**：查看购物车中的商品和总价

### 4. 订单结算系统
- **结算方式**：支持全部结算和选择性结算
- **优惠券系统**：支持优惠券折扣
- **随机优惠券**：购买后随机发放优惠券
- **购买记录**：记录购买历史和时间

### 5. 数据持久化
- **用户数据**：顾客信息保存到 `customers.txt`
- **购物车数据**：购物车信息保存到 `carts.txt`
- **数据恢复**：程序启动时自动加载历史数据

## 类设计架构

### 继承关系
```
User (基类)
├── Customer (顾客类)
└── Admin (管理员类)
```

### 主要类说明

#### 1. User 类
- **功能**：用户基类，提供基本的用户功能
- **属性**：用户名、密码
- **方法**：密码验证、密码修改、获取用户名

#### 2. Customer 类
- **功能**：顾客类，继承自User
- **属性**：电话号码
- **方法**：更新电话、显示信息

#### 3. Admin 类
- **功能**：管理员类，继承自User
- **权限**：商品管理、用户管理

#### 4. Good 类
- **功能**：商品类
- **属性**：商品名称、价格、描述、库存
- **方法**：库存检查、价格修改、描述修改

#### 5. Coupon 类
- **功能**：优惠券类
- **属性**：优惠券代码、折扣金额
- **方法**：优惠券验证、折扣应用

#### 6. shopSystem 类
- **功能**：购物系统核心类
- **职责**：协调所有功能模块，管理用户交互

## 技术特点

### 面向对象设计
- **封装**：数据成员私有化，通过公共接口访问
- **继承**：User作为基类，Customer和Admin继承
- **多态**：虚函数实现动态绑定

### 数据结构应用
- **STL容器**：使用map、unordered_map、vector等
- **文件操作**：数据持久化存储
- **时间处理**：使用chrono库处理时间戳

### 错误处理
- **输入验证**：防止无效输入导致程序崩溃
- **异常处理**：文件操作和数据验证的异常处理

## 编译和运行

### 环境要求
- C++11或更高版本
- 支持STL的编译器（如g++、clang++）

### 编译命令
```bash
g++ -std=c++11 -o shopping main.cpp shopSystem.cpp User.cpp Customer.cpp Admin.cpp Good.cpp Coupon.cpp
```

### 运行程序
```bash
./shopping
```

## 使用说明

### 首次使用
1. 运行程序后选择"2.顾客注册"创建账户
2. 或使用默认管理员账户登录（用户名：shenkunxiang，密码：123）

### 顾客功能
1. **登录**：选择"1.登陆" → 选择"2.顾客" → 输入用户名密码
2. **浏览商品**：选择"3.预览商品"或登录后选择"1.查看商品"
3. **搜索商品**：登录后选择"2.查找商品"
4. **购物车操作**：登录后选择"3.打开购物车"
5. **购买商品**：登录后选择"4.购买购物车内商品"

### 管理员功能
1. **登录**：选择"1.登陆" → 选择"1.管理员" → 输入用户名密码
2. **商品管理**：添加、删除、修改商品信息
3. **用户管理**：删除顾客账户

## 项目特色

1. **完整的电商功能**：从用户注册到商品购买的完整流程
2. **数据持久化**：程序重启后数据不丢失
3. **优惠券系统**：增强用户体验的营销功能
4. **购买历史**：记录用户购买行为
5. **中文界面**：友好的中文用户界面

## 开发信息

- **开发者**：Kunxiang (keloshen)
- **开发时间**：2024年5月
- **开发环境**：C++面向对象程序设计
- **项目类型**：课程设计项目

## 文件说明

### 数据文件
- `customers.txt`：存储顾客账户信息
- `carts.txt`：存储购物车数据

### 默认商品
系统预置了以下商品：
- AirPods_2：1799.99元
- iPhone_14：7899元
- Anker_Power_Bank：109元
- Macbook：12999元

## 扩展功能

项目支持以下扩展：
- 商品分类管理
- 更复杂的优惠券规则
- 支付系统集成
- 商品评价系统
- 推荐算法优化

---

*这是一个完整的面向对象程序设计实践项目，展示了C++在电商系统开发中的应用。*
